//https://github.com/codeisneverodd/programmers-coding-test
//ë” ì¢‹ì€ í’€ì´ê°€ ì¡´ìž¬í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
//ì •ë‹µ 1(ðŸŽ© refactor 220425) - codeisneverodd
function solution(id_list, report, k) {
  //reportë¥¼ setì„ ì´ìš©í•˜ì—¬ ì¤‘ë³µì œê±°, ê° id ë‹¹ ì‹ ê³ ë‹¹í•œ íšŸìˆ˜ reportedCountì— ì €ìž¥,
  //ê° idë¥¼ ì‹ ê³ í•œ ì‚¬ëžŒ arrayë¥¼ reportedByì— ì €ìž¥,
  //kë²ˆ ì´ìƒ ì‹ ê³ ë‹¹í•œ idë¥¼ ì‹ ê³ í•œ idê°€ ë°›ì„ ë©”ì¼ ìˆ˜ë¥¼ mailCountì— ì €ìž¥
  //answerì— mailCountì— ì €ìž¥ëœ ê°’ì„ id_listì™€ ê°™ì€ id ìˆœì„œë¡œ ì €ìž¥.
  const reportSet = new Set(report);
  const reportedCount = {}; //{"id": Number(count)}
  const reportedBy = {}; //{"id":[]}
  const mailCount = {}; //{"id":Number(count)}

  id_list.forEach((element) => {
    reportedCount[element] = 0;
    mailCount[element] = 0;
    reportedBy[element] = [];
  });

  reportSet.forEach((element) => {
    const [id, reported] = element.split(" ");
    reportedCount[reported] += 1;
    reportedBy[reported].push(id);
  });

  for (const reportedId in reportedCount) {
    if (reportedCount[reportedId] >= k) {
      reportedBy[reportedId].forEach((reporter) => {
        mailCount[reporter] += 1;
      });
    }
  }
  return id_list.map((id) => mailCount[id]);
}